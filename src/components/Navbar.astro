---
import CartIcon from "./cart/CartIcon.jsx";
---

<nav class="navbar navbar-expand-lg fixed-top aura-navbar">
  <div class="container">
    <!-- 1. IZQUIERDA: LOGO -->
    <a class="navbar-brand d-flex align-items-center gap-2" href="/">
      <span class="aura-navbar-accent">●</span>
      <span class="aura-navbar-brand">Aura Build Picker</span>
    </a>

    <!-- 2. DERECHA: CARRITO + HAMBURGUESA -->
    <div class="d-flex align-items-center gap-3 order-lg-2">
      <!-- Carrito visible SIEMPRE en móvil y PC -->
      {
        !Astro.url.pathname.startsWith("/cart") && (
          <div class="cart-wrapper-desktop-mobile">
            <CartIcon client:only="react" />
          </div>
        )
      }

      <!-- Hamburguesa -->
      <button
        class="navbar-toggler aura-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#mainNavbar"
        aria-controls="mainNavbar"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="aura-bars"></span>
        <span class="aura-bars"></span>
        <span class="aura-bars"></span>
      </button>
    </div>

    <!-- 3. MENÚ (PC = inline, MOVIL = dropdown) -->
    <div class="collapse navbar-collapse order-lg-1" id="mainNavbar">
      <ul class="navbar-nav ms-lg-auto mb-2 mb-lg-0 gap-lg-3 navbar-menu-pc">
        <li class="nav-item"><a class="nav-link" href="/">Inicio</a></li>
        <li class="nav-item">
          <a class="nav-link" href="/products">Productos</a>
        </li>
        <li class="nav-item"><a class="nav-link" href="/orders">Pedidos</a></li>
        <li class="nav-item"><a class="nav-link" href="/users">Usuario</a></li>

        <!-- 4. CARRITO PEGADO A LA LISTA EN PC -->
        {
          !Astro.url.pathname.startsWith("/cart") && (
            <li class="nav-item d-none d-lg-flex cart-inline-desktop">
              <CartIcon client:only="react" />
            </li>
          )
        }
      </ul>
    </div>
  </div>
</nav>
