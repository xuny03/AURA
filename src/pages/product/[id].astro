---
import BaseLayout from "../../layouts/BaseLayout.astro";
import products from "../../data/open-db/products.json";

// üî• Obligatorio para rutas din√°micas
export async function getStaticPaths() {
  return products.map((p) => ({
    params: { id: String(p.id) }, // nombre del par√°metro din√°mico
    props: { product: p }         // datos para la p√°gina
  }));
}

const { product } = Astro.props;

// Si no existe el producto
if (!product) {
  throw new Error(`Producto no encontrado`);
}
---

<BaseLayout title={product.name}>
  <section class="container py-5">
    <h1>{product.name}</h1>
    <p>Categor√≠a: {product.category}</p>
    <p>Fabricante: {product.manufacturer}</p>
    <p>Precio: {product.price ? `${product.price} ‚Ç¨` : "No disponible"}</p>

    <a href="/products" class="aura-btn-neon mt-4">
      ‚Üê Volver al cat√°logo
    </a>
  </section>
</BaseLayout>
